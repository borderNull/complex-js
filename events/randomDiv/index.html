<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Random div</title>
</head>
<body>
	<button id="createDiv">Push the tempo</button>
	<script>
		let activeElement;
		let offsetX = 0;
		let offsetY = 0;
        let newDiv = document.createElement('div');
        newDiv.setAttribute('id','newDiv');

		
        
		let makeDiv = (e) => {
			
       let divsize = ((Math.random()*100)+ 50).toFixed();
	   let color = '#'+ Math.round(0xffffff * Math.random()).toString(16);
        document.body.appendChild(newDiv);
        newDiv.style.width = divsize+'px';
        newDiv.style.height = divsize+'px';
        newDiv.style.backgroundColor = color; 	

	
		
          var posx = (Math.random() * (document.width - divsize)).toFixed();
          var posy = (Math.random() * (document.height - divsize)).toFixed();
        newDiv.style.position = 'absolute';
        newDiv.style.left = posx+'px';
        newDiv.style.top = posy+'px';
};
		let mDown = (e) => {
			activeElement = e.target;
			offsetX = e.offsetX;
		    offsetY = e.offsetY;
           };
        let mUp = (e) => {
               activeElement = null;

               };
        let mMove = (e) => {
        	if(activeElement) {
        		activeElement.style.top = (e.clientY - offsetY) + 'px';  	
        	}
        };
       createDiv.addEventListener('click',makeDiv);
       newDiv.addEventListener('mousedown', mDown);
       newDiv.addEventListener('mouseup', mUp);
       document.addEventListener('mousemove', mMove);
 </script>
        
</body>
</html>